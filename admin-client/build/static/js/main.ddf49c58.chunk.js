(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(23),i=a.n(r),c=(a(70),a(10)),d=a(11),u=a(13),o=a(12),s=a(14),m=a(4),h=a(139),b=a(140),f=a(132),E=a(133),g=a(134),v=a(135),p=a(138),y=a(136),O=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e,a))).handleRfidChange=n.handleRfidChange.bind(Object(m.a)(Object(m.a)(n))),n.handleNameChange=n.handleNameChange.bind(Object(m.a)(Object(m.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(Object(m.a)(n))),n.state={birdName:"",birdRfid:""},n}return Object(s.a)(t,e),Object(d.a)(t,[{key:"handleRfidChange",value:function(e){this.setState({birdRfid:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({birdName:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.addBird(this.state.birdName,this.state.birdRfid,function(e){e?console.log("ERROR: Could not add bird."):t.setState({birdName:"",birdRfid:""})})}},{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement(f.a,null,l.a.createElement(E.a,{sm:6},l.a.createElement(g.a,{controlId:"birdName"},l.a.createElement(v.a,null,"Bird name"),l.a.createElement(p.a,{type:"text",value:this.state.birdName,placeholder:"Apollo",onChange:this.handleNameChange}))),l.a.createElement(E.a,{sm:6},l.a.createElement(g.a,{controlId:"birdRfid"},l.a.createElement(v.a,null,"RFID tag"),l.a.createElement(p.a,{type:"text",value:this.state.birdRfid,placeholder:"123456789",onChange:this.handleRfidChange})))),l.a.createElement("div",{className:"form-row"},l.a.createElement(y.a,{type:"submit",onClick:this.handleSubmit},"Add New Bird")))}}]),t}(n.Component),j=a(104),k=a(137),S=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(d.a)(t,[{key:"buildRows",value:function(){var e=this;return this.props.birds.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.rfid),l.a.createElement("td",null,l.a.createElement(y.a,{onClick:function(){return e.props.deleteBird(t._id)},bsSize:"xsmall"},l.a.createElement(j.a,{glyph:"remove"}))))})}},{key:"render",value:function(){return l.a.createElement(k.a,{striped:!0,bordered:!0,condensed:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Bird Name"),l.a.createElement("th",null,"RFID Tag"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.buildRows()))}}]),t}(n.Component),C=a(16),w=a.n(C),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={birds:[]},a.addBird=a.addBird.bind(Object(m.a)(Object(m.a)(a))),a.deleteBird=a.deleteBird.bind(Object(m.a)(Object(m.a)(a))),a}return Object(s.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getBirds()}},{key:"getBirds",value:function(){var e=this;w.a.get("/api/birds").then(function(t){e.setState({birds:t.data})}).catch(function(e){console.log(e)})}},{key:"addBird",value:function(e,t,a){var n=this,l={name:e,rfid:t};w.a.post("/api/birds",l).then(function(e){console.log(e.data),n.getBirds(),a(null)}).catch(function(e){console.log(e),a(e)})}},{key:"deleteBird",value:function(e){var t=this;console.log("Delete item with ID "+e),w.a.delete("/api/bird/"+e).then(function(e){t.getBirds()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(O,{addBird:this.addBird}),l.a.createElement("br",null),l.a.createElement(S,{birds:this.state.birds,deleteBird:this.deleteBird}))}}]),t}(n.Component),N=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e,a))).handleNameChange=n.handleNameChange.bind(Object(m.a)(Object(m.a)(n))),n.handleStubChange=n.handleStubChange.bind(Object(m.a)(Object(m.a)(n))),n.handleLatitudeChange=n.handleLatitudeChange.bind(Object(m.a)(Object(m.a)(n))),n.handleLongitudeChange=n.handleLongitudeChange.bind(Object(m.a)(Object(m.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(Object(m.a)(n))),n.state={feederName:"",feederStub:"",feederLatitude:"",feederLongitude:""},n}return Object(s.a)(t,e),Object(d.a)(t,[{key:"handleNameChange",value:function(e){this.setState({feederName:e.target.value,feederStub:e.target.value.replace(/\s/g,"")})}},{key:"handleStubChange",value:function(e){this.setState({feederStub:e.target.value})}},{key:"handleLatitudeChange",value:function(e){this.setState({feederLatitude:e.target.value})}},{key:"handleLongitudeChange",value:function(e){this.setState({feederLongitude:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.addFeeder(this.state.feederStub,this.state.feederName,this.state.feederLatitude,this.state.feederLongitude,function(e){e?console.log("ERROR: Could not add feeder."):t.setState({feederName:"",feederStub:"",feederLatitude:"",feederLongitude:""})})}},{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement(f.a,null,l.a.createElement(E.a,{sm:6},l.a.createElement(g.a,{controlId:"feederName"},l.a.createElement(v.a,null,"Feeder name"),l.a.createElement(p.a,{type:"text",value:this.state.feederName,placeholder:"Feeder 1",onChange:this.handleNameChange}))),l.a.createElement(E.a,{sm:6},l.a.createElement(g.a,{controlId:"feederStub"},l.a.createElement(v.a,null,"Feeder stub"),l.a.createElement(p.a,{type:"text",value:this.state.feederStub,placeholder:"123456789",onChange:this.handleStubChange})))),l.a.createElement(f.a,null,l.a.createElement(E.a,{sm:6},l.a.createElement(g.a,{controlId:"latitude"},l.a.createElement(v.a,null,"Latitude"),l.a.createElement(p.a,{type:"text",value:this.state.feederLatitude,placeholder:"50.0000",onChange:this.handleLatitudeChange}))),l.a.createElement(E.a,{sm:6},l.a.createElement(g.a,{controlId:"longitude"},l.a.createElement(v.a,null,"Longitude"),l.a.createElement(p.a,{type:"text",value:this.state.feederLongitude,placeholder:"-1.0000",onChange:this.handleLongitudeChange})))),l.a.createElement("div",{className:"form-row"},l.a.createElement(y.a,{type:"submit",onClick:this.handleSubmit},"Add New Feeder")))}}]),t}(n.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(d.a)(t,[{key:"buildRows",value:function(){var e=this;return this.props.feeders.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.stub),l.a.createElement("td",null,t.location.latitude),l.a.createElement("td",null,t.location.longitude),l.a.createElement("td",null,e.convertTime(t.lastPing)),l.a.createElement("td",null,l.a.createElement(y.a,{onClick:function(){return e.props.deleteFeeder(t._id)},bsSize:"xsmall"},l.a.createElement(j.a,{glyph:"remove"}))))})}},{key:"convertTime",value:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"render",value:function(){return l.a.createElement(k.a,{striped:!0,bordered:!0,condensed:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Feeder Name"),l.a.createElement("th",null,"Feeder Stub"),l.a.createElement("th",null,"Latitude"),l.a.createElement("th",null,"Longitude"),l.a.createElement("th",null,"Last Ping"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.buildRows()))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={feeders:[]},a.addFeeder=a.addFeeder.bind(Object(m.a)(Object(m.a)(a))),a.deleteFeeder=a.deleteFeeder.bind(Object(m.a)(Object(m.a)(a))),a}return Object(s.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getFeeders()}},{key:"getFeeders",value:function(){var e=this;w.a.get("/api/feeders").then(function(t){e.setState({feeders:t.data})}).catch(function(e){console.log(e)})}},{key:"deleteFeeder",value:function(e){var t=this;console.log("Delete item with ID "+e),w.a.delete("/api/feeder/"+e).then(function(e){t.getFeeders()}).catch(function(e){console.log(e)})}},{key:"addFeeder",value:function(e,t,a,n,l){var r=this,i={stub:e,name:t,location:{latitude:a,longitude:n},lastPing:"never"};w.a.post("/api/feeders",i).then(function(e){console.log(e.data),r.getFeeders(),l(null)}).catch(function(e){console.log(e),l(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(N,{addFeeder:this.addFeeder}),l.a.createElement("br",null),l.a.createElement(D,{feeders:this.state.feeders,deleteFeeder:this.deleteFeeder}))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).deleteItem=a.deleteItem.bind(Object(m.a)(Object(m.a)(a))),a.getEvents=a.getEvents.bind(Object(m.a)(Object(m.a)(a))),a.state={events:[]},a}return Object(s.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getEvents()}},{key:"getEvents",value:function(){var e=this;w.a.get("/api/events").then(function(t){e.setState({events:t.data})}).catch(function(e){console.log(e)})}},{key:"buildRows",value:function(){var e=this;return this.state.events.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.type),l.a.createElement("td",null,t.ip),l.a.createElement("td",null,e.convertTime(t.datetime)),l.a.createElement("td",null,l.a.createElement(y.a,{onClick:function(){return e.deleteItem(t._id)},bsSize:"xsmall"},l.a.createElement(j.a,{glyph:"remove"}))))})}},{key:"deleteItem",value:function(e){var t=this;console.log("Delete item with ID "+e),w.a.delete("/api/event/"+e).then(function(e){t.getEvents()}).catch(function(e){console.log(e)})}},{key:"convertTime",value:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(y.a,{onClick:function(){return e.getEvents()},bsSize:"small"},l.a.createElement(j.a,{glyph:"refresh"})),l.a.createElement("br",null),l.a.createElement(k.a,{striped:!0,bordered:!0,condensed:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Event Type"),l.a.createElement("th",null,"IP Address"),l.a.createElement("th",null,"Date and Time"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.buildRows())))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).deleteItem=a.deleteItem.bind(Object(m.a)(Object(m.a)(a))),a.getWaypoints=a.getWaypoints.bind(Object(m.a)(Object(m.a)(a))),a.state={waypoints:[]},a}return Object(s.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getWaypoints()}},{key:"getWaypoints",value:function(){var e=this;w.a.get("/api/waypoints").then(function(t){e.setState({waypoints:t.data})}).catch(function(e){console.log(e)})}},{key:"buildRows",value:function(){var e=this;return this.state.waypoints.map(function(t,a){return null==t.bird&&(t.bird.name="Deleted",t.bird.rfid="Deleted"),l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.bird.name),l.a.createElement("td",null,t.bird.rfid),l.a.createElement("td",null,t.feeder.stub),l.a.createElement("td",null,e.convertTime(t.datetime)),l.a.createElement("td",null,l.a.createElement(y.a,{onClick:function(){return e.deleteItem(t._id)},bsSize:"xsmall"},l.a.createElement(j.a,{glyph:"remove"}))))})}},{key:"deleteItem",value:function(e){var t=this;console.log("Delete item with ID "+e),w.a.delete("/api/waypoint/"+e).then(function(e){t.getWaypoints()}).catch(function(e){console.log(e)})}},{key:"convertTime",value:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(y.a,{onClick:function(){return e.getWaypoints()},bsSize:"small"},l.a.createElement(j.a,{glyph:"refresh"})),l.a.createElement("br",null),l.a.createElement(k.a,{striped:!0,bordered:!0,condensed:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Bird Name"),l.a.createElement("th",null,"RFID"),l.a.createElement("th",null,"Feeder Stub"),l.a.createElement("th",null,"Date and Time"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.buildRows())))}}]),t}(n.Component),L=(a(126),function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e,a))).handleSelect=n.handleSelect.bind(Object(m.a)(Object(m.a)(n))),n.state={key:1},n}return Object(s.a)(t,e),Object(d.a)(t,[{key:"handleSelect",value:function(e){this.setState({key:e})}},{key:"render",value:function(){return l.a.createElement("div",{id:"App",className:"container"},l.a.createElement("h1",null,"FeederNet Admin"),l.a.createElement("br",null),l.a.createElement(h.a,{activeKey:this.state.key,onSelect:this.handleSelect,id:"main-tabs"},l.a.createElement(b.a,{eventKey:1,title:"Birds"},l.a.createElement(F,null)),l.a.createElement(b.a,{eventKey:2,title:"Feeders"},l.a.createElement(R,null)),l.a.createElement(b.a,{eventKey:3,title:"Events"},l.a.createElement(B,null)),l.a.createElement(b.a,{eventKey:4,title:"Waypoints"},l.a.createElement(I,null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,a){e.exports=a(131)},70:function(e,t,a){}},[[65,2,1]]]);
//# sourceMappingURL=main.ddf49c58.chunk.js.map